### @explicitHints 1

# Урок 2: Программирование фонтана

## Шаг 1
Переименуйте текст с **run** на **фонтан** в блоке ``||Player: при команде чата||``.

Выкопаtv границу фонтана. Следующим этапом является создание каркаса или границы фонтана. Мы сделаем это, сначала выкопав землю, а затем заменив эти блоки **булыжником**.

## Шаг 2
Вставьте блок  ``||Loops:повторить 4 раза||`` в имеющийся блок ``||Player:при команде чата||`` и оставьте значение **4** в нём.  

Это означает, что наш агент повторит следующий набор действий четыре раза. Поскольку мы собираемся использовать несколько циклов, первый из них будет называться **внешним** циклом.

#### ~ tutorialhint
``` blocks
player.onChat("фонтан", function () {
    for (let index = 0; index < 4; index++) {

    }
})
```

## Шаг 3
Возьмите еще один блок ``||Loops:повторить 4 раза||`` и перенесите в блок ``||Player:при команде чата||``. Установите его внутрь уже созданного цикла.

Добавьте блок  ``||Agent:агент: уничтожить вперёд||`` и измените **вперёд** на **низ**.

#### ~ tutorialhint
``` blocks
player.onChat("фонтан", function () {
    for (let index = 0; index < 4; index++) {
        for (let index = 0; index < 4; index++) {
            agent.destroy(DOWN)
        }
    }
})
```

## Шаг 4
Добавьте блок ``||Agent:агент: переместиться вперед на 1бл.||`` в цикл ``||Loops:повторить 4 раза||`` сразу после блока из предыдущего шага.

#### ~ tutorialhint
``` blocks
player.onChat("фонтан", function () {
    for (let index = 0; index < 4; index++) {
        for (let index = 0; index < 4; index++) {
          agent.destroy(DOWN)
          agent.move(FORWARD, 1)
        }
    }
})
```


## Шаг 5
Add an ``||Agent:agent turn [left]||`` code block inside the first or **outer** ``||Loops:repeat [4] times||`` but outside the second or inner ``||Loops:repeat [4] times||``.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
    for (let index = 0; index < 4; index++) {
        for (let index = 0; index < 4; index++) {
          agent.destroy(DOWN)
          agent.move(FORWARD, 1)
        }
        agent.turn(LEFT_TURN)
    }
})
```

## Шаг 6
Test your code now. You will see your Agent dig out the ground in a 5 x 5 frame.

Fill with Cobblestone. Now we need to fill this newly formed hole with Cobblestone as a frame for the fountain.

## Шаг 7
Drag the ``||Agent:agent set active slot||`` code block and place it under the ``||Loops:repeat [4] times||`` inside the ``||Player:on chat command||`` blocks. The Agent does not need to repeat this, and this is part of a new action.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
    for (let index = 0; index < 4; index++) {
      for (let index = 0; index < 4; index++) {
        agent.destroy(DOWN)
        agent.move(FORWARD, 1)
      }
      agent.turn(LEFT_TURN)
    }
    agent.setSlot(1)
})
```

## Шаг 8
Now repeat the steps, placing the new set after the ``||Agent:agent set active slot||`` and replacing only the ``||Agent:agent destroy [down]||`` with ``||Agent:agent place [down]||``.  

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
})
```

## Шаг 9
Test your code once more. Note that this time, the Agent digs out the ground and then replaces it with **Cobblestone**. This forms the frame for the fountain.

Dig inside the fountain. Now, we need to code the Agent to clear the ground away inside the fountain, so the water doesn't flood the park.

## Шаг 10
Drag an ``||Agent:agent move [forward]||`` code block, change it to **left** and place it last in your current code.

Get another ``||Agent:agent move [forward]||`` code block, leave it set to **forward** and place it last in your current code.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
    for (let index = 0; index < 4; index++) {
      for (let index = 0; index < 4; index++) {
        agent.destroy(DOWN)
        agent.move(FORWARD, 1)
      }
      agent.turn(LEFT_TURN)
    }
    agent.setSlot(1)
    for (let index = 0; index < 4; index++) {
      for (let index = 0; index < 4; index++) {
        agent.place(DOWN)
        agent.move(FORWARD, 1)
      }
      agent.turn(LEFT_TURN)
    }
    agent.move(LEFT, 1)
    agent.move(FORWARD, 1)
})
```

## Шаг 11
Drag a ``||Loops:repeat [4] times||`` code block onto the end of your ``||Player:on chat command||`` code and set it to **3**.

There is a 3 x 3 block of Grass in the center of the fountain frame that the Agent needs to clear. Therefore, we need to give it three actions and repeat these three times. Again, we'll refer to the first as the outer loop. And the second as the inner loop.  

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {

  }
})
```

## Шаг 12
Get another ``||Loops:repeat [4] times||`` code block. Place it inside the first loop and set it to **3**.  

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {
      for (let index = 0; index < 3; index++) {

      }
  }
})
```

## Шаг 13
Next, Get your Agent to ``||Agent:agent destroy||`` and set it to **down** with the drop-down menu.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {
      for (let index = 0; index < 3; index++) {
        agent.destroy(DOWN)
      }
  }
})
```

## Шаг 14
Get your Agent to ``||Agent:agent move [forward]||`` and leave it set to **1**.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 5; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {
      for (let index = 0; index < 3; index++) {
        agent.destroy(DOWN)
        agent.move(FORWARD, 1)
      }
  }
})
```

## Шаг 15
Let's get the Agent back into position. Get your Agent to ``||Agent:agent move [forward]||``, set it to **back**, and change the number to **3**.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {
      for (let index = 0; index < 3; index++) {
        agent.destroy(DOWN)
        agent.move(FORWARD, 1)
      }
      agent.move(BACK, 3)
  }
})
```

## Шаг 16
Get your Agent to ``||Agent:agent move [forward]||`` and set it to **left**.
This will place your Agent at the start of the next set of three blocks to be removed, and the outer loop will ensure this is repeated three times.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {
      for (let index = 0; index < 3; index++) {
        agent.destroy(DOWN)
        agent.move(FORWARD, 1)
      }
      agent.move(BACK, 3)
      agent.move(LEFT, 1)
  }
})
```

## Шаг 17
Test your code and watch your Agent dig out the inside of the fountain frame.

## Шаг 18
Code the water feature. Drag an ``||Agent:agent move [forward]||`` code block to your main code.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {
      for (let index = 0; index < 3; index++) {
        agent.destroy(DOWN)
        agent.move(FORWARD, 1)
      }
      agent.move(BACK, 3)
      agent.move(LEFT, 1)
  }
  agent.move(FORWARD, 1)
})
```

## Шаг 19
Get an ``||Agent:agent move [forward]||`` code block, change **forward** to **right** with the drop-down menu and the number to **2**. This will place your Agent in the center of the fountain.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {
      for (let index = 0; index < 3; index++) {
        agent.destroy(DOWN)
        agent.move(FORWARD, 1)
      }
      agent.move(BACK, 3)
      agent.move(LEFT, 1)
  }
  agent.move(FORWARD, 1)
  agent.move(RIGHT, 2)
})
```

## Шаг 20
Get a ``||Loops:repeat [4] times||`` code block, and change the number to **5**.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {
      for (let index = 0; index < 3; index++) {
        agent.destroy(DOWN)
        agent.move(FORWARD, 1)
      }
      agent.move(BACK, 3)
      agent.move(LEFT, 1)
  }
  agent.move(FORWARD, 1)
  agent.move(RIGHT, 2)
  for (let index = 0; index < 5; index++) {

  }
})
```


## Шаг 21
Return to the ``||Agent:AGENT||`` drawer and get an ``||Agent:agent place [down]||`` code block, and add it to your code, inside the ``||Loops:repeat [5] times||`` block.
This means your Agent will place the first of five blocks of **Cobblestone** in the base of the fountain.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {
      for (let index = 0; index < 3; index++) {
        agent.destroy(DOWN)
        agent.move(FORWARD, 1)
      }
      agent.move(BACK, 3)
      agent.move(LEFT, 1)
  }
  agent.move(FORWARD, 1)
  agent.move(RIGHT, 2)
  for (let index = 0; index < 5; index++) {
    agent.place(DOWN)
  }
})
```


## Шаг 22
Get an ``||Agent:agent move [forward]||`` code block, add it to your code and change it to **up** with the drop-down menu.
This will put your Agent at the top of the fountain, ready for the water to be added.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 5; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {
      for (let index = 0; index < 3; index++) {
        agent.destroy(DOWN)
        agent.move(FORWARD, 1)
      }
      agent.move(BACK, 3)
      agent.move(LEFT, 1)
  }
  agent.move(FORWARD, 1)
  agent.move(RIGHT, 2)
  for (let index = 0; index < 5; index++) {
    agent.place(DOWN)
    agent.move(UP, 1)
  }
})
```


## Шаг 23
Get an ``||Agent:agent set active slot||`` code block, add it to your code and change it to **2**, which is the slot in your Agent's inventory that has the **Bucket of Water** in it, then add an ``||agent:agent place||`` **down** block.

#### ~ tutorialhint
``` blocks
player.onChat("park_fountain", function () {
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.destroy(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.setSlot(1)
  for (let index = 0; index < 4; index++) {
    for (let index = 0; index < 4; index++) {
      agent.place(DOWN)
      agent.move(FORWARD, 1)
    }
    agent.turn(LEFT_TURN)
  }
  agent.move(LEFT, 1)
  agent.move(FORWARD, 1)
  for (let index = 0; index < 3; index++) {
      for (let index = 0; index < 3; index++) {
        agent.destroy(DOWN)
        agent.move(FORWARD, 1)
      }
      agent.move(BACK, 3)
      agent.move(LEFT, 1)
  }
  agent.move(FORWARD, 1)
  agent.move(RIGHT, 2)
  for (let index = 0; index < 5; index++) {
    agent.place(DOWN)
    agent.move(UP, 1)
  }
  agent.setSlot(2)
  agent.place(DOWN)
})
```


## Шаг 24
Now check and test your code before placing your fountain somewhere in the park.

